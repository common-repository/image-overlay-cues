(()=>{"use strict";const e=window.wp.element,t=window.wp.i18n,r=window.wp.hooks,l=window.wp.blockEditor,o=window.wp.compose,n=window.wp.components,i=window.wp.primitives,a=(0,e.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},(0,e.createElement)(i.Path,{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10V3L6 5m0 11a2 2 0 1 1 4 0c0 .591-.601 1.46-1 2l-3 3h4m5-7a2 2 0 1 0 2-2a2 2 0 1 0-2-2m-8.5 0h3"})),s="is-style-ioc--image--count",c=(0,o.createHigherOrderComponent)((r=>o=>{var i;if("core/image"!==o.name)return(0,e.createElement)(r,o);const c=(null!==(i=o?.attributes?.className)&&void 0!==i?i:"").split(" "),u=c.includes(s);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r,o),(0,e.createElement)(l.BlockControls,null,(0,e.createElement)(n.ToolbarGroup,null,(0,e.createElement)(n.ToolbarButton,{icon:a,isPressed:u,onClick:()=>{const e=c.filter((e=>e!==s)).join(" "),t=[...c,s].join(" ");o.setAttributes({className:u?e:t})},label:(0,t.__)("Enable overlay count","image-overlay-cues")}))))}),"withImageOverlayCuesSettings");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},u.apply(this,arguments)}(0,r.addFilter)("editor.BlockEdit","small-plugins/image-overlay-cues/with-settings",c),(0,r.addFilter)("blocks.registerBlockType","small-plugins/image-overlay-cues/with-settings-attribute",((e,t)=>"core/image"===t?{...e,attributes:{...e.attributes}}:e));const m=function(e){return"string"==typeof e&&e.split(" ").includes(s)},g=(0,o.createHigherOrderComponent)((r=>o=>{const n=m(o.attributes.className);if("core/image"!==o.name||!n)return(0,e.createElement)(r,o);const i=o.attributes.IOC_cueBackgroundColor,a=o.attributes.IOC_cueTextColor,s=[{value:i,onChange:e=>{o.setAttributes({IOC_cueBackgroundColor:e})},label:(0,t.__)("Count Background Color","image-overlay-cues"),resetAllFilter:()=>{o.setAttributes({IOC_cueBackgroundColor:""})}},{value:a,onChange:e=>{o.setAttributes({IOC_cueTextColor:e})},label:(0,t.__)("Count Text Color","image-overlay-cues"),resetAllFilter:()=>{o.setAttributes({IOC_cueTextColor:""})}}],c=(0,l.__experimentalUseMultipleOriginColorsAndGradients)();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r,o),(0,e.createElement)(l.InspectorControls,{group:"color"},s.map((({onChange:t,label:r,value:n,resetAllFilter:i})=>(0,e.createElement)(l.__experimentalColorGradientSettingsDropdown,u({panelId:o.clientId,settings:[{colorValue:n,label:r,onColorChange:t,isShownByDefault:!0,resetAllFilter:i,enableAlpha:!0}]},c,{__experimentalIsRenderedInSidebar:!0}))))))}),"withOverlayCuesColorSettings");(0,r.addFilter)("editor.BlockEdit","small-plugins/image-overlay-cues/with-color-settings",g),(0,r.addFilter)("blocks.registerBlockType","small-plugins/image-overlay-cues/with-color-attributes",((e,t)=>"core/image"===t?{...e,attributes:{...e.attributes,IOC_cueBackgroundColor:{type:"string",default:""},IOC_cueTextColor:{type:"string",default:""}}}:e));const d=(0,o.createHigherOrderComponent)((r=>o=>{const i=m(o.attributes.className);if("core/image"!==o.name||!i)return(0,e.createElement)(r,o);const a=o.attributes.IOC_cueSize;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r,o),(0,e.createElement)(l.InspectorControls,{group:"dimensions"},(0,e.createElement)(n.__experimentalToolsPanelItem,{hasValue:()=>!!a,label:(0,t.__)("Count size","image-overlay-cues"),onDeselect:()=>o.setAttributes({IOC_cueSize:""}),resetAllFilter:()=>({IOC_cueSize:""}),isShownByDefault:!0,panelId:o.clientId},(0,e.createElement)(n.__experimentalUnitControl,{value:a,label:(0,t.__)("Overlay count size","image-overlay-cues"),onChange:e=>o.setAttributes({IOC_cueSize:e})}))))}),"withOverlayCuesDimensionSettings");(0,r.addFilter)("editor.BlockEdit","small-plugins/image-overlay-cues/with-dimension-settings",d),(0,r.addFilter)("blocks.registerBlockType","small-plugins/image-overlay-cues/with-dimension-attributes",((e,t)=>"core/image"===t?{...e,attributes:{...e.attributes,IOC_cueSize:{type:"string",default:"1.2em"}}}:e));const p=(0,o.createHigherOrderComponent)((t=>r=>{const l=m(r.attributes.className);if("core/image"!==r.name||!l)return(0,e.createElement)(t,r);const o=r.attributes.IOC_cueBackgroundColor,n=r.attributes.IOC_cueTextColor,i=r.attributes.IOC_cueSize;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,u({},r,{wrapperProps:{style:{"--image-overlay-cues--image-count--bg":o,"--image-overlay-cues--image-count--text":n,"--image-overlay-cues--image-count--size":i}}})))}),"withImageOverlayStyledCount");(0,r.addFilter)("editor.BlockListBlock","small-plugins/image-overlay-cues/with-styled-cues",p)})();